<% content_for :question do %><%= title %><% end %>
<% form_for controller_name, :url=>{:action=>'questions', :id=>(@question_number + 1)}, :html=>{:id=> "#{controller_name}_form"} do |f| -%>
	<div class="vgutter enclose">
		<div class="grid_2">&nbsp;</div>
		<% OralCareWord.all.shuffle.each do |oral_care_word| %>
			<div class="draggable grid_2" id="<%= dom_id oral_care_word %>" style="height: 60px;">
				<%= oral_care_word.name %>
			</div>
		<% end %>
	</div>
	<br class="clear" />
	<div class="vgutter enclose">
		<div class="grid_5" style="margin-left: 35px;">
			<div class="droppable luxury_words "id="droppable_1" style="height: 80px;">
				<p>1</p>
			</div>
		</div>
		<div class="grid_5">
			<div class="droppable luxury_words"id="droppable_2" style="height: 80px;">
				<p>2</p>
			</div>
		</div>
		<div class="grid_5">
			<div class="droppable luxury_words"id="droppable_3" style="height: 80px;">
				<p>3</p>
			</div>
		</div>		
	</div>
			
	<%= render :partial=>'navigation' %>
<% end %>

<% content_for :javascript do %>
<script type="text/javascript">
	function addToForm(event,ui){
		var substring_index = ui.draggable.attr('id').search(/\d+/);
		var value = ui.draggable.attr('id').substring(substring_index);
		$("#<%= controller_name+'_form'%>").append('<input type="hidden" id="oral_care_word_ids_'+ui.draggable.attr('id')+'" name="colgate[oral_care_word_ids][]" value="'+value+'" />');
		ui.draggable.addClass("selected");
		var dropped = $(this);
		dropped.droppable( "option", "disabled", true );
		ui.draggable.bind( "drag", function(event, ui) {
			$(this).removeClass("selected");
			dropped.droppable( "option", "disabled", false );
			$('#oral_care_word_ids_'+$(this).attr('id')).remove();
		});
	};
	$('.draggable').draggable();
	$(".droppable").droppable({
		tolerance: 'touch',
		drop: addToForm
	});
</script>
<% end %>